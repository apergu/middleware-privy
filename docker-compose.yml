version: '3'
services:

  # Your Go application service
  privy-project:
    build:
      context: .
      dockerfile: Dockerfile
    ports:
      - "8080:8080"
    networks:
      - project-privy_default
    environment:
      environment:
      APP_PORT: 9001
      APP_NAME: Privy
      DB_DSN: postgres://postgres:p@$$w0rdprivy@postgres:5432/privy
      DB_NAME: privy
      DB_MAX_OPEN_CONN: 4
      DB_MAX_IDLE_CONN: 20
      DB_MAX_LIFE_CONN: 3
      JWT_VERIFYKEY: ""
      JWT_SIGNATURE: rahmanteja
      JWT_EXPIRATION: 3600
      JWT_AUD: "icon-plus"
      JWT_ISS: icon-plus
      REFRESH_JWT_VERIFYKEY: ""
      REFRESH_JWT_SIGNATURE: rahmanteja
      REFRESH_JWT_EXPIRATION: 3600
      REFRESH_JWT_AUD: "icon-plus"
      REFRESH_JWT_ISS: icon-plus
      IS_REDIS: 0
      REDIS_ADDR: ""
      REDIS_PWD: ""
      REDIS_DB: ""
      BASIC_AUTH_USERNAME: tes
      BASIC_AUTH_PASSWORD: tes-password
      PRIVY_HOST: https://8113915-sb1.restlets.api.netsuite.com
      PRIVY_USERNAME: f8b4fb43614c756a168b1d1367607569ae547e8ffb6001b0ec7526641627c112
      PRIVY_PASSWORD: 7e068bf2d6a20f9fd949efee8eca6927b440181b2bfa8d2dbbbe4af05a285aae
  # db:
  #   image: postgres:14
  #   environment:
  #     POSTGRES_DB: privy
  #     POSTGRES_PASSWORD: p@$$w0rdprivy
  #   volumes:
  #     - postgres-data:/var/lib/postgresql/data
  #   ports:
  #     - "5432:5432"

  postgres:
    image: postgres:14
    ports:
      - 5432:5432
    volumes:
      - postgres-data:/var/lib/postgresql/data
    networks:
      - project-privy_default
    environment:
      - POSTGRES_PASSWORD=p@$$w0rdprivy
      - POSTGRES_USER=postgres
      - POSTGRES_DB=privy

volumes:
  postgres-data:


networks:
  project-privy_default:
    # driver: bridge
    external: true
